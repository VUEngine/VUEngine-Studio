appId: dev.vuengine.studio
productName: VUEngine
copyright: Copyright Â© 2006-2023 VUEngine
electronDist: ../../node_modules/electron/dist
electronVersion: 15.5.7
# Although it is generally not recommended to disable asar, it is required for Theia.
# Enabling this leads to: process ERROR Error: spawn ENOTDIR
# because binaries can not be executed from the asar archive.
# See asar file API limitations: https://www.electronjs.org/docs/tutorial/application-packaging#limitations-of-the-node-api
asar: false

directories:
  buildResources: resources

# node_modules and package.json are copied automatically
# Copying node_modules must be automatic for correct resolvement of binaries.
# Furthermore, This reduces bundle sizes significantly because it avoids duplicates of the electron runtime.
files:
  - src-gen
  - lib
  - scripts
  - "!**node_modules/electron/**"
  - from: plugins
    to: plugins
  - from: binaries/vuengine-studio-tools/web
    to: binaries/vuengine-studio-tools/web
  - from: documentation
    to: documentation
  - from: templates
    to: templates
  - from: vuengine
    to: vuengine

fileAssociations:
  - ext: vuengine
    name: VUEngine Studio Project
    description: VUEngine Studio project file
    role: Editor
    rank: Owner
    isPackage: false
  - ext: vb
    name: Virtual Boy ROM
    description: ROM image of Virtual Boy program
    role: Viewer
    rank: Default
    isPackage: false

win:
  icon: resources/icons/WindowsLauncherIcon/VUEngineStudio.ico
  artifactName: VUEngine-Studio-${version}-Windows.${ext}
  target:
    - nsis
    - zip
  extraResources:
    - from: binaries/vuengine-studio-tools/win
      to: app/binaries/vuengine-studio-tools/win
    - from: binaries/vuengine-studio-tools/linux/gcc
      to: app/binaries/vuengine-studio-tools/linux/gcc

mac:
  #executableName: VUEngine
  artifactName: VUEngine-Studio-${version}-Mac.${ext}
  icon: resources/icons/MacLauncherIcon/512-512.icns
  category: public.app-category.developer-tools
  darkModeSupport: true
  target:
    - pkg
    - zip
  extraResources:
    - from: binaries/vuengine-studio-tools/osx
      to: app/binaries/vuengine-studio-tools/osx

linux:
  icon: resources/icons/LinuxLauncherIcon/512-512.png
  artifactName: VUEngine-Studio-${version}-Linux.${ext}
  category: Development
  vendor: VUEngine
  maintainer: VUEngine
  target:
    - deb
    - AppImage
  extraResources:
    - from: binaries/vuengine-studio-tools/linux
      to: app/binaries/vuengine-studio-tools/linux

nsis:
  include: windows-installer.nsh
  menuCategory: false
  createDesktopShortcut: true
  createStartMenuShortcut: true
  oneClick: true
  perMachine: true
  allowToChangeInstallationDirectory: false
  runAfterFinish: true
  installerHeaderIcon: resources/icons/WindowsLauncherIcon/VUEngineStudio.ico
  installerIcon: resources/icons/WindowsLauncherIcon/VUEngineStudio.ico
  uninstallerIcon: resources/icons/WindowsLauncherIcon/VUEngineStudio.ico
  installerSidebar: resources/icons/InstallerSidebarImage/164-314Windows.bmp
  uninstallerSidebar: resources/icons/InstallerSidebarImage/164-314Windows.bmp
  artifactName: VUEngine-Studio-${version}-Setup-Windows.${ext}
  uninstallDisplayName: VUEngine Studio
pkg:
  artifactName: VUEngine-Studio-${version}-Setup-Mac.${ext}
  installLocation: /Applications
  allowAnywhere: false
  allowCurrentUserHome: false
  allowRootDirectory: true
  isVersionChecked: true
  isRelocatable: false
  overwriteAction: upgrade
  background:
    file: resources/icons/MacPkgBackground.png
    alignment: bottomleft
    scaling: proportional
deb:
  artifactName: VUEngine-Studio-${version}-Setup-Linux.${ext}
appImage:
  artifactName: VUEngine-Studio-${version}-Linux.${ext}

afterPack: ./scripts/after-pack.js
